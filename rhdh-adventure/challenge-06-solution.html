<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üßûüîå And beyond! Solution :: Red Hat Developer Hub Adventure</title>
    <link rel="canonical" href="https://rhdh-adventure-organization.github.io/rhdh-adventure/rhdh-adventure/index.html/rhdh-adventure/challenge-06-solution.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/RHDLogo.svg" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://rhdh-adventure-organization.github.io/rhdh-adventure/rhdh-adventure/index.html">Red Hat Developer Hub Adventure</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhdh-adventure" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">A DevEx Adventure</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-01.html">üöÄ The Adventure Begins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-01.html#helmchart">üì¶ Helm Chart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-01.html#operator">üë∑ Operator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-02.html">üé® Make It Your Own</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-02.html#configuration">üõ†Ô∏è External configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-02.html#title">¬©Ô∏è Title it!</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-02.html#colors">üåà Looking better</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-03.html">üë®‚Äçüíª Lock It Down</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-03.html#github-auth">üîë Authentication with GitHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-03.html#gitlab-auth">üîë Authentication with GitLab</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-03.html#rbac">üõÇ You won&#8217;t break it</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-04.html">üïµüèª‚Äç‚ôÇÔ∏è Import An Existing App</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-04.html#declare">üìù Declare it</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-04.html#import">üìÇ Import it</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-05.html">üßæ Streamline Future App Dev</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-05.html#softwaretemplate">üíÄ Software Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-05.html#onboard">üõ¨ Onboarding</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-06.html">üîå Unlock New Capabilities</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-06.html#dynamicplugins">ü¶Ñ Dynamic Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="challenge-07.html">üî¨ Put It Under The Microscope</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-07.html#tools">üß∞ Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="challenge-07.html#metrics">üë®‚Äçüî¨ Metrics</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Red Hat Developer Hub Adventure</a></li>
    <li><a href="challenge-06-solution.html">üßûüîå And beyond! Solution</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/rhdh-adventure-organization/rhdh-adventure/edit/master/documentation/modules/ROOT/pages/challenge-06-solution.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">üßûüîå And beyond! Solution</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Welcome! Don&#8217;t worry about being here‚Äîit&#8217;s absolutely okay! This section provides an example solution
to the challenge, offering a step-by-step implementation as a reference to guide you.</p>
</div>
<div class="paragraph">
<p>Remember, this is just one way to solve the challenge, and your approach might differ depending on
your creativity or specific requirements. Feel free to explore and adapt the solution to make it your own.
The goal is to help you understand the process and give you the confidence to tackle similar challenges
in the future. Let' 's dive in together! üßûüöÄ</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dynamicplugins-solution"><a class="anchor" href="#dynamicplugins-solution"></a>üßûü¶Ñ Dynamic Plugins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the <a href="challenge-03.html" class="xref page">challenge</a>, you played a bit with some dynamic plugins provided for authentication
and authorization provided by Red Hat Developer Hub. However, you could not bit completely the goal of the
dynamic plugins.</p>
</div>
<div class="paragraph">
<p>Red Hat Developer Hub as a platform consists of a small modular core and an extensive set of plugins that provide most of
the functionality. In the upstream <strong>Backstage.io</strong> platform, enabling a plugin means modifying the platform&#8217;s source code
to load a bunch of TypeScript/JavaScript, and other static files (HTML, CSS, images etc.).
You then have to stop and restart the runtime to enable the plugin.</p>
</div>
<div class="paragraph">
<p>This approach of changing source code and restarting for enabling plugins will not work for Red Hat Developer Hub,
because you need to recompile the source code, build a new container image and then re-deploy the new container image.</p>
</div>
<div class="paragraph">
<p>Red Hat has introduced the concept of a <strong>dynamic plugin</strong> to overcome this hurdle. A set of curated plugins are pre-baked into
the container image, but not enabled by default. The <strong>dynamic plugin framework</strong> is based on the
<a href="https://github.com/scalprum/scaffolding">Node.js Scalprum library</a>. To enable or disable a plugin, you edit the <strong>app-config.yaml</strong>
or the Red Hat Developer Hub Helm chart YAML values and turn plugins on or off.
In this manner, Red Hat Developer Hub allows you to control plugin lifecycle and configuration without recompiling
or rebuilding container images.</p>
</div>
<div class="paragraph">
<p>Red Hat Developer Hub is pre-loaded with a selection of dynamic plugins. Most of these dynamic plugins are disabled by default due
to the need for mandatory configuration. For a complete list of dynamic plugins that are included, see the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html/dynamic_plugins_reference/con-preinstalled-dynamic-plugins#red-hat-supported-plugins">dynamic plugins matrix</a>
section of Red Hat Developer Hub.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Red Hat fully supports certain plugins (Topology, Tekton, Quay), while others are community-supported projects.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Enabling or disabling dynamic plugins is based in the <a href="https://github.com/backstage/backstage/tree/master/packages/backend-dynamic-feature-service">backend plugin manager</a>
package, which is a service that scans a configured root directory (<code>dynamicPlugins.rootDirectory</code> in the <code>app-config.yaml</code>)
for dynamic plugin packages, and loads them dynamically.</p>
</div>
<div class="paragraph">
<p>The configuration of the dynamic plugins depends of the mechanism used to operate Red Hat Developer Hub:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_by-helm-chart"></a>By Helm Chart</p>
</li>
<li>
<p><a id="tabset1_by-operator"></a>By Operator</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_by-helm-chart">
<div class="paragraph">
<p>The definition of the dynamic plugins is done in the <code>values.yaml</code> file in the <code>global.dynamic.plugins</code> list:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">global:
  # Other configurations
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-github-dynamic
        disabled: false</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_by-operator">
<div class="paragraph">
<p>The operator creates the <code>dynamic-plugins-rhdh-local</code> ConfigMap with the list of dynamic plugins. We can
create another additional ConfigMap to manage it.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">---
kind: ConfigMap
apiVersion: v1
metadata:
  name: rhdh-dynamic-plugins
data:
  dynamic-plugins.yaml: |
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-github-dynamic
        disabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>Update the Red Hat Developer Hub manifest to use the new ConfigMap for plugins:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">spec:
  application:
    # Other configurations
    dynamicPluginsConfigMapName: rhdh-dynamic-plugins</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Simply enabling a dynamic plugin in the helm chart may not provide the required functionality. You may need to
edit your <code>app-config.yaml</code> files to add plugin-specific configuration (for example, set different environment variables)
to make the plugin work correctly. Consult the corresponding plugin documentation for the required configuration.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>However, there is a way to include other dynamic plugins not included in Red Hat Developer Hub. This is a process based
on exporting third-party plugins using:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://www.npmjs.com/package/@janus-idp/cli">@janus-idp/cli</a> package is installed.</p>
</li>
<li>
<p>Node.js and NPM is installed and configured.</p>
</li>
<li>
<p>The third-party plugin is compatible with your Red Hat Developer Hub version.
For more information, see <a href="https://github.com/redhat-developer/rhdh/blob/main/docs/dynamic-plugins/versions.md">Version compatibility matrix</a>.</p>
</li>
<li>
<p>The third-party plugin must have a valid <code>package.json</code> file in its root directory, containing all required metadata and dependencies.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following resources includes a full list of the current plugins in the Backstage space:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://backstage.io/plugins">Backstage Plugin Directory</a></p>
</li>
<li>
<p><a href="https://github.com/backstage/community-plugins">Backstage Community Plugins</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A detailed guide to install third-party plugins is available
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/installing_and_viewing_plugins_in_red_hat_developer_hub/index#ref-example-third-party-plugin-installation_assembly-install-third-party-plugins-rhdh">here</a>.</p>
</div>
<div class="paragraph">
<p>We will do the exercise to install some plugins using the dynamic plugin framework of Red Hat Developer Hub.</p>
</div>
<div class="sect2">
<h3 id="_todo_plugin_backstage_community_plugin"><a class="anchor" href="#_todo_plugin_backstage_community_plugin"></a>TODO Plugin (Backstage Community Plugin)</h3>
<div class="paragraph">
<p>This plugin lists <code>// TODO</code> comments in source code. It currently exports a single component extension for use on entity pages.</p>
</div>
<div class="paragraph">
<p>The main steps are based on the usage of the <a href="https://github.com/redhat-developer/rhdh-dynamic-plugin-factory">RHDH Dynamic Plugin Factor</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pull image version of the dynamic plugin factory:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">podman pull quay.io/rhdh-community/dynamic-plugins-factory:1.8</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a temporary folder to create the dynamic plugin, and the initial folder structure:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p /tmp/backstage-community-plugins
mkdir -p /tmp/backstage-community-plugins/config
mkdir -p /tmp/backstage-community-plugins/workspace
mkdir -p /tmp/backstage-community-plugins/outputs
cd /tmp/backstage-community-plugins</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Setup configuration files to manage this plugin by the <code>source.json</code>, <code>plugins-list.yaml</code> files as:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &gt; ./config/source.json &lt;&lt; EOF
{
  "repo": "https://github.com/backstage/community-plugins",
  "repo-ref":"main"
}
EOF
cat &gt; ./config/plugins-list.yaml &lt;&lt; EOF
plugins/todo:
plugins/todo-backend:
EOF</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Setup your environment to push images automatically into your container registry by the <code>.env</code> file as:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &gt; ./config/.env &lt;&lt; EOF
# Registry configuration
REGISTRY_URL=&lt;YOUR_REGISTRY&gt;
REGISTRY_INSECURE=false

REGISTRY_USERNAME=&lt;YOUR_USERNAME&gt;
REGISTRY_PASSWORD=&lt;YOUR_PASSWORD&gt;

REGISTRY_NAMESPACE=&lt;YOUR_NAMESPACE&gt;
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please, update it with your own configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Build and publish the OCI image of the dynamic plugin into your container registry:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">podman run --rm -it \
  --device /dev/fuse \
  -v ./config:/config:z \
  -v ./workspace:/workspace:z \
  -v ./outputs:/outputs:z \
  quay.io/rhdh-community/dynamic-plugins-factory:1.8 \
  --workspace-path workspaces/todo \
  --push-images</code></pre>
</div>
</div>
<div class="paragraph">
<p>This process will output the default configuration of the dynamic plugin to add into Red Hat Developer Hub:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">    plugins:
      - package: oci://quay.io/rhdh-adventure-organization/backstage-community-plugin-todo:0.13.0!backstage-community-plugin-todo
        pluginConfig:
          dynamicPlugins:
            frontend:
              backstage-community.plugin-todo:
                mountPoints:
                  - mountPoint: entity.page.todo/cards
                    importName: EntityTodoContent
                entityTabs:
                  - path: /todo
                    title: Todo
                    mountPoint: entity.page.todo
      - package: oci://quay.io/rhdh-adventure-organization/backstage-community-plugin-todo-backend:0.14.0!backstage-community-plugin-todo-backend
        disabled: false</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t forget to make public the repository.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dev_quotes_plugin"><a class="anchor" href="#_dev_quotes_plugin"></a>Dev Quotes Plugin</h3>
<div class="paragraph">
<p>Display some random coding/programming related quotes on the Backstage homepage.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pull image version of the dynamic plugin factory:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">podman pull quay.io/rhdh-community/dynamic-plugins-factory:1.8</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a temporary folder to create the dynamic plugin, and the initial folder structure:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p /tmp/devquotes-plugin
mkdir -p /tmp/devquotes-plugin/config
mkdir -p /tmp/devquotes-plugin/workspace
mkdir -p /tmp/devquotes-plugin/outputs
cd /tmp/devquotes-plugin</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Setup configuration files to manage this plugin by the <code>source.json</code>, <code>plugins-list.yaml</code> files as:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &gt; ./config/source.json &lt;&lt; EOF
{
  "repo": "https://github.com/Parsifal-M/backstage-dev-quotes",
  "repo-ref": "main"
}
EOF
cat &gt; ./config/plugins-list.yaml &lt;&lt; EOF
.:
EOF</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Setup your environment to push images automatically into your container registry by the <code>.env</code> file as:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &gt; ./config/.env &lt;&lt; EOF
# Registry configuration
REGISTRY_URL=&lt;YOUR_REGISTRY&gt;
REGISTRY_INSECURE=false

REGISTRY_USERNAME=&lt;YOUR_USERNAME&gt;
REGISTRY_PASSWORD=&lt;YOUR_PASSWORD&gt;

REGISTRY_NAMESPACE=&lt;YOUR_NAMESPACE&gt;
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please, update it with your own configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Build and publish the OCI image of the dynamic plugin into your container registry:</p>
</li>
</ul>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">podman run --rm -it \
  --device /dev/fuse \
  -v ./config:/config:z \
  -v ./workspace:/workspace:z \
  -v ./outputs:/outputs:z \
  quay.io/rhdh-community/dynamic-plugins-factory:1.8 \
  --workspace-path ./ \
  --push-images</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command generates the default configuration to apply:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">      - package:
         oci://quay.io/rhdh-adventure-organization/parsifal-m-plugin-dev-quotes-homepage:3.0.8!parsifal-m-plugin-dev-quotes-homepage
        disabled: false
        pluginConfig:
          dynamicPlugins:
            frontend:
              parsifal-m.plugin-dev-quotes-homepage:
                mountPoints:
                  - mountPoint: entity.page.overview/cards
                    importName: DevQuote
                    config:
                      layout:
                        gridColumnEnd:
                          lg: span 4
                          md: span 6
                          xs: span 12
                dynamicRoutes:
                  - importName: DevQuote
                    menuItem:
                      text: Quote
                    path: /devquote</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t forget to make public the repository.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_the_new_plugins"><a class="anchor" href="#_enabling_the_new_plugins"></a>Enabling the new plugins</h3>
<div class="paragraph">
<p>Once we have the configuration for each plugin, we can apply as:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_by-helm-chart"></a>By Helm Chart</p>
</li>
<li>
<p><a id="tabset2_by-operator"></a>By Operator</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_by-helm-chart">
<div class="paragraph">
<p>Extend the <code>values.yaml</code> file to add the list of plugins to use and upgrade the Helm release:</p>
</div>
<div class="paragraph">
<p>For GitHub:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">helm upgrade --install rhdh \
    openshift-helm-charts/redhat-developer-hub \
    -f ./documentation/modules/ROOT/examples/challenge-06/values-01-github.yaml \
    --set global.clusterRouterBase=$basedomain</code></pre>
</div>
</div>
<div class="paragraph">
<p>For GitLab:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">helm upgrade --install rhdh \
    openshift-helm-charts/redhat-developer-hub \
    -f ./documentation/modules/ROOT/examples/challenge-06/values-01-gitlab.yaml \
    --set global.clusterRouterBase=$basedomain</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The name used for the Red Hat Developer Hub instance is <code>rhdh</code>. If you choose a different name, please replace that pattern in the command with the name of your instance.
</td>
</tr>
</table>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_by-operator">
<div class="paragraph">
<p>For GitHub:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc apply -f ./documentation/modules/ROOT/examples/challenge-06/rhdh-dynamic-plugins-cm-github-01.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>For GitLab:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc apply -f ./documentation/modules/ROOT/examples/challenge-06/rhdh-dynamic-plugins-cm-gitlab-01.yaml</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The Dev Quote is available as another menu of Red Hat Developer Hub:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/challenge-06/rhdh-dev-quote-plugin.png" alt="rhdh dev quote plugin">
</div>
</div>
<div class="paragraph">
<p>And each component includes a new tab for the TODO plugin.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/challenge-06/rhdh-todo-plugin.png" alt="rhdh todo plugin">
</div>
</div>
<div class="paragraph">
<p>Congratulations! Your Red Hat Developer Hub is fully modular.</p>
</div>
</div>
<div class="sect2">
<h3 id="_bonus_track_enabling_scm_plugins"><a class="anchor" href="#_bonus_track_enabling_scm_plugins"></a>(Bonus Track) Enabling SCM Plugins</h3>
<div class="paragraph">
<p>The <a href="challenge-03.html#intro" class="xref page">Lock It Down</a> challenge included a set of steps to integrate
Red Hat Developer Hub and your favourite SCM (e.g: GitHub, GitLab). That integration included
some features to discover organization data, including repositories to add automatically into
the Red Hat Developer Hub catalog. However, the integration can be extended to include more
features and plugins to enhance the experience of developers and platform engineers.</p>
</div>
<div class="paragraph">
<p>There are different plugins available to integrate some of the features of the SCM systems like
issues, pull requests, and actions. These plugins allow you to visualize and manage these features
directly from the Red Hat Developer Hub interface, providing a seamless experience for developers.</p>
</div>
<div class="paragraph">
<p>To enable these plugins, you need to modify the Red Hat Developer Hub configuration to include
the necessary plugins for your SCM system. The configuration can be done either by modifying the
<code>app-config.yaml</code> file or by using the Helm chart values file, depending on how you have deployed
Red Hat Developer Hub.</p>
</div>
<div class="paragraph">
<p>List of plugins for GitHub (but not limited to):</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">      # GitHub Plugins for issues, pull requests, and actions
      - package: ./dynamic-plugins/dist/backstage-community-plugin-github-issues
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-community-plugin-github-actions
        disabled: false
      #- package: ./dynamic-plugins/dist/backstage-community-github-pull-requests
      #  disabled: false
      - package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-github-pull-requests
        disabled: false
      - package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-github-insights
        disabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>List of plugins for GitLab (but not limited to):</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">      # GitLab Plugins for issues, merge requests, and actions
      - package: ./dynamic-plugins/dist/immobiliarelabs-backstage-plugin-gitlab-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/immobiliarelabs-backstage-plugin-gitlab
        disabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once we have added the new plugins, we can continue as:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_by-helm-chart"></a>By Helm Chart</p>
</li>
<li>
<p><a id="tabset3_by-operator"></a>By Operator</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_by-helm-chart">
<div class="paragraph">
<p>Extend the <code>values.yaml</code> file to add the list of plugins to use and upgrade the Helm release:</p>
</div>
<div class="paragraph">
<p>For GitHub:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">helm upgrade --install rhdh \
    openshift-helm-charts/redhat-developer-hub \
    -f ./documentation/modules/ROOT/examples/challenge-06/values-02-github.yaml \
    --set global.clusterRouterBase=$basedomain</code></pre>
</div>
</div>
<div class="paragraph">
<p>For GitLab:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">helm upgrade --install rhdh \
    openshift-helm-charts/redhat-developer-hub \
    -f ./documentation/modules/ROOT/examples/challenge-06/values-02-gitlab.yaml \
    --set global.clusterRouterBase=$basedomain</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The name used for the Red Hat Developer Hub instance is <code>rhdh</code>. If you choose a different name, please replace that pattern in the command with the name of your instance.
</td>
</tr>
</table>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_by-operator">
<div class="paragraph">
<p>For GitHub:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc apply -f ./documentation/modules/ROOT/examples/challenge-06/rhdh-dynamic-plugins-cm-github-02.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>For GitLab:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc apply -f ./documentation/modules/ROOT/examples/challenge-06/rhdh-dynamic-plugins-cm-gitlab-02.yaml</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>For a entity in the catalog integrated with GitHub, the plugins will be showed in the overview page similar as:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/challenge-06/rhdh-github-plugins.png" alt="GitHub Plugins in action">
</div>
</div>
<div class="paragraph">
<p>For a entity in the catalog integrated with GitLab, the plugins will be showed in the overview page similar as:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/challenge-06/rhdh-gitlab-plugins.png" alt="GitLab Plugins in action">
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
